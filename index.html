<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title>BiharFM ‚Äù Live</title>

<!-- ‚úÖ Add these for PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">
<link rel="stylesheet" href="file/css/live.css"/>
  <script src="file/live.js" defer></script>
  

</head>

<body>

<div class="top">
  <header>
    <div class="logo"><span>Bihar</span><span>FM</span></div>
    <div class="time" id="timeCounter">00:00</div>
    <div class="liveStatus">
      <div class="liveDot"></div><span id="connText">Connecting‚Ä¶</span>
    </div>
  </header>

  <div class="song-info">
    <h2 id="songTitle">Bihar FM</h2>
    <p id="artistName">By Vivekfy</p>
  </div>

  <div class="controls">
    <div class="btn" id="shareBtn" title="Share">
      <svg viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7a2.48 2.48 0 000-1.39l7.02-4.11A2.5 2.5 0 1014.5 5a2.5 2.5 0 00.04.42L7.52 9.53a2.5 2.5 0 100 4.94l7.02 4.11a2.5 2.5 0 102.46-2.5z"/></svg>
    </div>
    <div class="btn play" id="playPauseBtn" title="Play / Pause">
      <svg id="playIcon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
      <svg id="pauseIcon" viewBox="0 0 24 24" style="display:none;"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg>
    </div>
    <div class="btn" id="chatBtn" title="Chat">
      <svg viewBox="0 0 24 24"><path d="M20.52 3.48A11.85 11.85 0 0012 0C5.37 0 0 5.37 0 12a11.8 11.8 0 001.68 6.05L0 24l6.14-1.6A11.88 11.88 0 0012 24c6.63 0 12-5.37 12-12 0-3.2-1.25-6.22-3.48-8.52z"/></svg>
    </div>
  </div>
</div>

<div class="bottom">
  <div class="cover">
    <img id="coverImg" src="https://i.ibb.co/84nfStqz/images-4.jpg" alt="Cover">
  </div>
</div>

<audio id="player" autoplay></audio>

<!-- ‚úÖ Notification + PWA setup -->
<button id="notifyBtn">Enable Notifications</button>

<script>
/* ============================
   Fast PWA Script (inline app.js)
============================ */
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('sw.js')
      .then(() => console.log('‚úÖ Service Worker Registered'))
      .catch(err => console.error('‚ùå SW Error:', err));
  });
}

// Notification
const notifyBtn = document.getElementById('notifyBtn');
notifyBtn.addEventListener('click', async () => {
  const perm = await Notification.requestPermission();
  if (perm === 'granted') {
    new Notification('üîî BiharFM Live', {
      body: 'PWA Mode Active! BiharFM ready to play.',
      icon: '/icon-192.png'
    });
  }
});
</script>

</body>
</html>
